---
title: История версий
sidebar_position: 3
toc_min_heading_level: 2
toc_max_heading_level: 3
---

<!--
    Changelog is from here:
    https://api.adguard-dns.io/static/api/CHANGELOG.md
-->

В этой статье содержится список изменений для [AdGuard DNS API](private-dns/api/overview.md).

## v1.10

_Released on December 12, 2024_

Added a new DNS server setting — `block_chrome_prefetch`. It disables _Private prefetch proxy_ in Chrome. When this feature is enabled, Chrome will sometimes prefetch links on the Google Search results page and other participating websites even before the user clicks them.

## Версия 1.9

_Выпущена 11 июля 2024 года_

- Добавлена функция автоматического подключения устройств:
  - `auto_connect_devices_enabled` — новая настройка в разделе DNS-сервер, позволяющая утверждать автоматическое подключение устройств через определённый тип ссылки
  - `auto_device` — новое поле в разделе Устройство, указывающее, что устройство подключено автоматически
- Заменили `int` на `long` для `queries` в CategoryQueriesStats, для `used` в AccountLimits, а также для `blocked` и `queries` в QueriesStats

## Версия 1.8

_Выпущена 20 апреля 2024 года_

- Добавлена поддержка DNS-over-HTTPS с аутентификацией:
  - Новая операция — сброс пароля DNS-over-HTTPS для устройства
  - `detect_doh_auth_only` — новая настройка устройства. Отключает все методы подключения DNS, кроме DNS-over-HTTPS с аутентификацией
  - `dns_over_https_with_auth_url` — новое поле в DeviceDNSAddresses. Указывает URL-адрес, который будет использоваться при подключении с использованием DNS-over-HTTPS с аутентификацией

## Версия 1.7

_Выпущена 11 марта 2024 года_

- Добавлена функциональность выделенных IPv4-адресов:
  - Выделенные IPv4-адреса теперь можно использовать на устройствах для настройки DNS-сервера
  - Выделенный IPv4-адрес теперь ассоциируется с устройством, к которому он привязан, поэтому запросы, сделанные на этот адрес, регистрируются для этого устройства
- Добавлены новые операции:
  - Перечислить все доступные выделенные IPv4-адреса
  - Выделить новый IPv4-адрес
  - Привязать доступный IPv4-адрес к устройству
  - Отвязать IPv4-адрес от устройства
  - Запрос информации о выделенных адресах, связанных с устройством
- Добавлены новые лимиты в Лимиты аккаунта:
  - `dedicated_ipv4` предоставляет информацию о количестве уже выделенных выделенных IPv4-адресов, а также лимите на них
- Удалено устаревшее поле DNSServerSettings:
  - `safebrowsing_enabled`

## Версия 1.6

_Выпущена 22 января 2024 года_

- Добавлен новый раздел «Настройки доступа» для DNS-профилей (`access_settings`). Настраивая эти поля, вы сможете защитить свой сервер AdGuard DNS от несанкционированного доступа:

  - `allowed_clients` — здесь вы можете указать, какие клиенты могут использовать ваш DNS-сервер. У этого поля будет приоритет над полем `blocked_clients`
  - `blocked_clients` — здесь вы можете указать, каким клиентам не разрешено использовать ваш DNS-сервер
  - `blocked_domain_rules` — здесь вы можете указать, каким доменам не разрешён доступ к вашему DNS-серверу, а также определить такие домены с помощью подстановочных знаков и правил DNS-фильтрации

- Добавлены новые лимиты в Лимиты аккаунта:

  - `access_rules` предоставляет сумму используемых в данный момент значений `blocked_clients` и `blocked_domain_rules`, а также ограничение на правила доступа
  - `user_rules` показывает количество созданных пользовательских правил, а также лимит на них

- Добавлен новый параметр: `ip_log_enabled` для регистрации IP-адресов и доменов клиентов

- Добавлен новый код ошибки `FIELD_REACHED_LIMIT`, указывающий на достижение лимитов:

  - Для общего количества `blocked_clients` и `blocked_domain_rules` в настройках доступа
  - Для `rules` в настройках пользовательских правил

## Версия 1.5

_Выпущена 16 июня 2023 года_

- Добавлена новая настройка `block_nrd`, а все настройки, которые относятся к безопасности, собраны в одном месте

### Модель для настроек безопасного просмотра изменилась

С:

```json
{
   "enabled": true
}
```

На:

```json
{
   "enabled": true,
   "block_dangerous_domains": true,
   "block_nrd": false
}
```

где `enabled` теперь контролирует все настройки в группе, `block_dangerous_domains` — поле предыдущей модели `enabled`, а `block_nrd` — настройка, которая блокирует вновь зарегистрированные домены.

### Модель сохранения настроек сервера изменилась

С:

```json
{
  "protection_enabled" : true,
  "safebrowsing_enabled" : true,
  ..
}
```

на:

```json
{
  "protection_enabled" : true,
  "safebrowsing_settings" : {
     "enabled": true,
     "block_dangerous_domains": true,
     "block_nrd": false
  }
  ..
}
```

здесь используется новое поле `safebrowsing_settings` вместо устаревшего `safebrowsing_enabled`, значение которого хранится в `block_dangerous_domains`.

## Версия 1.4

_Выпущена 29 марта 2023 года_

- Добавлена настраиваемая опция для блокировки ответа: по умолчанию (0.0.0.0), REFUSED, NXDOMAIN или пользовательский IP-адрес

## Версия 1.3

_Выпущена 13 декабря 2022 года_

- Добавлен метод для получения лимитов аккаунта

## Версия 1.2

_Выпущена 14 октября 2022 года_

- Добавлены новые типы протоколов DNS и DNSCRYPT. Прекращена поддержка PLAIN_TCP, PLAIN_UDP, DNSCRYPT_TCP и DNSCRYPT_UDP, которые будут удалены позже

## Версия 1.1

_Выпущена 7 июля 2022 года_

- Добавлены методы получения статистики по времени, доменам, компаниям и устройствам
- Добавлен метод обновления настроек устройства
- Исправлено определение обязательных полей

## Версия 1.0

_Выпущена 22 февраля 2022 года_

- Добавлена аутентификация
- CRUD-операции с устройствами и DNS-серверами
- Журнал запросов
- Загрузка DoH и DoT .mobileconfig
- Фильтры и веб-сервисы
